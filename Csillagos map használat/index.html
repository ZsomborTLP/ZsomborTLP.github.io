<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <title>Document</title>
</head>
<body>
    
    <div style="margin-left: 10px; margin-right: 10px;" class="row" id="keret">
        
        
    </div>

    <div class="modal" id="myModal">
        <div class="modal-dialog">
          <div class="modal-content">
      
            <!-- Modal Header -->
            <div class="modal-header">
              <h4 class="modal-title">Modal Heading</h4>
              <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
      
            <!-- Modal body -->
            <div id="modaltest" class="modal-body">
                
            </div>
      
            <!-- Modal footer -->
            <div class="modal-footer">
              <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Close</button>
            </div>
      
          </div>
        </div>
      </div>






    <script>
        let szemelytomb=[
            {"id":"1",
            "vnev":"Nahaji",
            "knev":"Anikó",
            "szulev":"1974.05.01",
            "motto":"Az ürességet egyetlen dolog teszi elviselhetővé: a kapcsolat.",
            "ertek":"4.5",
            "forras":"A kapcsolat cím film."},

            {"id":"2",
            "vnev":"Kaszonyi",
            "knev":"Krisztián",
            "szulev":"2002.04.03",
            "motto":"Ne add fel az álmaidat, aludj tovább.",
            "ertek":"4.6",
            "forras":"Egyéni mondat."},

            {"id":"3",
            "vnev":"László",
            "knev":"Gábor",
            "szulev":"2003.02.18",
            "motto":"Minden reggel újjászületünk. Amit ma teszünk, az a legfontosabb.",
            "ertek":"4.4",
            "forras":"Buddha"}
        ]

        //console.log(szemelytomb)
        let tombhosszak=[]

        console.log(szemelytomb.map(elem=>elem.motto.length))
        tombhosszak+=szemelytomb.map(elem=>elem.motto.length)

        //-------------------------------------------------\\

        let tombosszeirtnevek=szemelytomb.map(osszefuz)
        console.log(tombosszeirtnevek)
        function osszefuz(elem){
            return elem.vnev+" "+elem.knev
        }

        //-------------------------------------------------\\

        let tombhonapnev=szemelytomb.map(function(elem){
            kecske=elem.szulev.split('.')
            let honapnevek=["január","február","március","április","május","június","július","augusztus","szeptember","október","november","december"]
            return honapnevek[kecske[1]-1]
        })

        console.log(tombhonapnev)

        //-------------------------------------------------\\

        let tombertekek=szemelytomb.map(elem=>{
            let kerekit = Math.round(elem.ertek)
            return kerekit
        })

        console.log(tombertekek)

        //-------------------------------------------------\\

        let szemelytombuj=szemelytomb.map(elem=>{
            elem.ertek=Math.round(elem.ertek)
            kecske=elem.szulev.split('.')
            let honapnevek=["január","február","március","április","május","június","július","augusztus","szeptember","október","november","december"]
            elem.szulev=kecske[0]+"."+honapnevek[kecske[1]-1]+"."+kecske[2]
            return elem
        })

        console.log(szemelytombuj)

        //-------------------------------------------------\\
        let jo=0
        let rossz=0
        let sz=""
        for (const elem of szemelytombuj) {
            jo=elem.ertek
            rossz=5-elem.ertek
            sz+=`<div class="col-sm-6"><div onclick="kattint('${elem.forras}')" data-bs-toggle="modal" data-bs-target="#myModal" style="border:5px dotted black ; box-shadow: 5px 5px 5px gray;margin:10px;padding:5px;">${elem.motto}<p style="color:red;">${elem.motto.length}</p><p style="font-weight:bold;">${elem.vnev}</p><p style="font-style: italic;">${elem.knev}</p><p style="font-family: 'Times New Roman', Times, serif;">${elem.szulev}</p><p style="opacity: 75%;">${elem.ertek}</p>
            `
            for (let i = 0; i < 5; i++) {
                if(i<jo){
                    sz+=`<img style="width:100px;" src="jo.png">`
                }
                else{
                    sz+=`<img style="width:100px;" src="rossz.png">`
                }
            }
            
            sz+=`
            </div></div>`
        }
        document.getElementById("keret").innerHTML=sz

        //-------------------------------------------------\\

        function kattint(forras){
            //alert("hello")
            document.getElementById("modaltest").innerHTML=forras
        }

    </script>

</body>
</html>